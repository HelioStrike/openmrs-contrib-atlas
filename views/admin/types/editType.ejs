<% include ../partials/header %>

<div class="container">
    <div class="jumbotron">
        <h2>Edit Type</h2>

        <form class="form-horizontal" action="/type/<%= id %>" method="post" role="form">
            <div class="form-group">
                <label class="col-lg-2 control-label">Name</label>
                <div class="col-lg-10">
                    <input type="text" class="form-control" placeholder="Name" name="name" id="name">
                </div>
            </div>
            <div class="form-group">
                <label class="col-lg-2 control-label">Icon</label>
                <div class="col-lg-10">
                    <input type="text" class="form-control" placeholder="Icon" name="icon" id="icon">
                </div>
            </div>
            <input type="hidden" id="typeid" name="typeid" value="<%= id %>">
                
            <div class="form-group">
                <div class="col-lg-offset-2 col-lg-10">
                    <button type="submit" class="btn btn-primary">Save Type</button>
                </div>
            </div>
        </form>

    </div>
</div>

<script>

function fetchType() {
    var typeid = document.getElementById("typeid").value;
    $.ajax({url: "/type/"+typeid})
        .always(function (data, textStatus) {
            if (textStatus != "success") {
                return;
            }
            document.getElementById("name").value = data.name;
            document.getElementById("icon").value = data.icon;
    });
}

fetchType();
    
</script>
        
<% include ../partials/footer %>